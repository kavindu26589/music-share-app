<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ§ Music Share App</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/peerjs@1.4.7/dist/peerjs.min.js"></script>
</head>
<body>
  <div class="container">
    <h2>ğŸµ Share Music + Mic</h2>

    <div class="box">
      <label><strong>Your ID:</strong> <span id="my-id">...</span></label>
    </div>

    <div class="box">
      <button onclick="prepareAudioStream()">ğŸ™ Start Stream (Music + Mic)</button>
    </div>

    <!-- Compression slider -->
    <div class="box">
      <label for="ratio-slider">ğŸ”Š Compression Strength (Ratio): <span id="ratio-value">12</span></label>
      <input type="range" id="ratio-slider" min="1" max="20" value="12" step="1" />
    </div>

    <!-- EQ sliders -->
    <div class="box">
      <label>ğŸš Bass: <span id="bass-val">1</span></label>
      <input type="range" id="bass" min="0" max="2" step="0.1" value="1">
    </div>
    <div class="box">
      <label>ğŸ› Mid: <span id="mid-val">1</span></label>
      <input type="range" id="mid" min="0" max="2" step="0.1" value="1">
    </div>
    <div class="box">
      <label>ğŸ”Š Treble: <span id="treble-val">1</span></label>
      <input type="range" id="treble" min="0" max="2" step="0.1" value="1">
    </div>

    <!-- Volume meter -->
    <div class="box">
      <label>ğŸ“Š Input Volume:</label>
      <progress id="volume-meter" value="0" max="100"></progress>
    </div>

    <div class="box">
      <input id="peer-id" placeholder="Enter peer ID to call" />
      <button onclick="startCall()">ğŸ“ Start Call</button>
      <button onclick="stopCall()">âŒ Stop Call</button>
    </div>

    <!-- Incoming call UI -->
    <div class="box" id="incoming-call-box" style="display: none;">
      <div><strong>ğŸ“² Caller ID:</strong> <span id="caller-id">...</span></div>
      <button onclick="answerCall()">âœ… Answer Call</button>
      <button onclick="rejectCall()">âŒ Reject Call</button>
    </div>

    <div class="status" id="status">ğŸ”Œ Not connected</div>

    <div class="debug" id="debug-output">
      <h3>ğŸ§ª Debug Info</h3>
      <pre id="debug-log">Waiting...</pre>
    </div>

    <div id="mobile-playback-button" class="box" style="display: none;"></div>

    <script src="script.js"></script>
</body>
</html>
